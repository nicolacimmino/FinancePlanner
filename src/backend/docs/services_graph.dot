
digraph architecture {
  rankdir=LR;

  subgraph edge_services {
      api_gateway -> {
        tokens
        users
        user_assets
        service_registry
      }
  }

  subgraph public_services {
      tokens -> {
        database
        config_server
        service_registry
      } [color=purple]

      users -> {
        database,
        config_server,
        service_registry
      } [color=red]

      user_assets -> {
        database,
        config_server,
        service_registry
      }  [color=green]
  }
}